"use strict";(self.webpackChunksubsocial_playground=self.webpackChunksubsocial_playground||[]).push([[468],{44468:(e,n,t)=>{t.r(n),t.d(n,{isWeb3Injected:()=>w,packageInfo:()=>s,unwrapBytes:()=>l,web3Accounts:()=>y,web3AccountsSubscribe:()=>v,web3Enable:()=>g,web3EnablePromise:()=>h,web3FromAddress:()=>j,web3FromSource:()=>E,web3ListRpcProviders:()=>P,web3UseRpcProvider:()=>k,wrapBytes:()=>u});var r=t(61655),o=t(72766),a=t(23865);function c(e){return new Promise((n=>{"complete"===document.readyState?n(e()):window.addEventListener("load",(()=>n(e())))}))}const s={name:"@polkadot/extension-dapp",path:new URL("file:///home/olehmell/subsocial/playground/node_modules/@polkadot/extension-dapp/packageInfo.js").pathname.substring(0,new URL("file:///home/olehmell/subsocial/playground/node_modules/@polkadot/extension-dapp/packageInfo.js").pathname.lastIndexOf("/")+1),type:"esm",version:"0.44.6"};var i=t(22106);const l=i.SB,u=i.Rl,d=window;function m(){return 0!==Object.keys(d.injectedWeb3).length}function b(e){throw new Error("".concat(e,": web3Enable(originName) needs to be called before ").concat(e))}function p(e,n,t){return n.map((n=>{let{address:r,genesisHash:c,name:s,type:i}=n;return{address:42===r.length?r:(0,o.m)((0,a.m)(r),t),meta:{genesisHash:c,name:s,source:e},type:i}}))}d.injectedWeb3=d.injectedWeb3||{};let w=m(),h=null;function f(e){return Promise.all(Object.entries(d.injectedWeb3).map((n=>{let[t,{enable:r,version:o}]=n;return Promise.all([Promise.resolve({name:t,version:o}),r(e).catch((e=>{console.error("Error initializing ".concat(t,": ").concat(e.message))}))])})))}function g(e){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];if(!e)throw new Error("You must pass a name for your app to the web3Enable function");const t=n.length?Promise.all(n.map((e=>e().catch((()=>!1))))):Promise.resolve([!0]);return h=c((()=>t.then((()=>f(e).then((e=>e.filter((e=>!!e[1])).map((e=>{let[n,t]=e;return t.accounts.subscribe||(t.accounts.subscribe=e=>(t.accounts.get().then(e).catch(console.error),()=>{})),{...n,...t}})))).catch((()=>[])).then((e=>{const n=e.map((e=>{let{name:n,version:t}=e;return"".concat(n,"/").concat(t)}));return w=m(),console.log("web3Enable: Enabled ".concat(e.length," extension").concat(1!==e.length?"s":"",": ").concat(n.join(", "))),e})))))),h}async function y(){let{accountType:e,extensions:n,ss58Format:t}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(!h)return b("web3Accounts");const r=[],o=await h,a=await Promise.all(o.filter((e=>{let{name:t}=e;return!n||n.includes(t)})).map((async n=>{let{accounts:r,name:o}=n;try{return p(o,(await r.get()).filter((n=>{let{type:t}=n;return!t||!e||e.includes(t)})),t)}catch(a){return[]}})));a.forEach((e=>{r.push(...e)}));const c=r.map((e=>{let{address:n}=e;return n}));return console.log("web3Accounts: Found ".concat(r.length," address").concat(1!==r.length?"es":"",": ").concat(c.join(", "))),r}async function v(e){let{extensions:n,ss58Format:t}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(!h)return b("web3AccountsSubscribe");const r={},o=()=>e(Object.entries(r).reduce(((e,n)=>{let[r,o]=n;return e.push(...p(r,o,t)),e}),[])),a=(await h).filter((e=>{let{name:t}=e;return!n||n.includes(t)})).map((e=>{let{accounts:{subscribe:n},name:t}=e;return n((e=>{r[t]=e;try{var n;null===(n=o())||void 0===n||n.catch(console.error)}catch(a){console.error(a)}}))}));return()=>{a.forEach((e=>{e()}))}}async function E(e){if(!h)return b("web3FromSource");const n=await h,t=e&&n.find((n=>{let{name:t}=n;return t===e}));if(!t)throw new Error("web3FromSource: Unable to find an injected ".concat(e));return t}async function j(e){if(!h)return b("web3FromAddress");const n=await y();let t;if(e){const o=(0,a.m)(e);t=n.find((e=>(0,r.S)((0,a.m)(e.address),o)))}if(!t)throw new Error("web3FromAddress: Unable to find injected ".concat(e));return E(t.meta.source)}async function P(e){const{provider:n}=await E(e);return n?n.listProviders():(console.warn("Extension ".concat(e," does not expose any provider")),null)}async function k(e,n){const{provider:t}=await E(e);if(!t)throw new Error("Extension ".concat(e," does not expose any provider"));return{meta:await t.startProvider(n),provider:t}}}}]);
//# sourceMappingURL=468.4487882f.chunk.js.map